<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Error Checker</title>
    <style>
        table, th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <table style="width:100%">
        <tr>
            <th>Allow</th>
            <th>First</th>
            <th>Last</th>
            <th>VoirReser</th>
            <th>CipPre</th>
            <th>Panel</th>
        </tr>
        <tr>
            <td>True</td>
            <td>Variable_01</td>
            <td>Variable_02</td>
            <td>True</td>
            <td>True</td>
            <td>True</td>
        </tr>
    </table>

    <script>
        async function checkServerStatus() {
            const url = "https://nwdi.wrm.ir/phpmyadmin/index.php?route=/";
            
            try {
                // Send a request to the PHPMyAdmin URL
                const response = await fetch(url);

                if (response.ok) {
                    // If the server responds with an error
                    updateTable();
                } else {
                    console.log("Server is working fine.");
                }
            } catch (error) {
                console.error("Error connecting to the server:", error);
                updateTable(); // Update the table if there's a connection error
            }
        }

        function updateTable() {
            // Select all table cells with the value "True"
            const cells = document.querySelectorAll("td");
            cells.forEach(cell => {
                if (cell.textContent.trim() === "True") {
                    cell.textContent = "True_"; // Add an underscore
                }
            });

            console.log("Table updated due to server error.");
        }

        // Check server status every 60 seconds
        setInterval(checkServerStatus, 60000);

        // Initial check on page load
        checkServerStatus();
    </script>
</body>
</html>
